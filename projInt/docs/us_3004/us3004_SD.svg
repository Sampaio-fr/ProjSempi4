<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2258px" preserveAspectRatio="none" style="width:2749px;height:2258px;background:#FFFFFF;" version="1.1" viewBox="0 0 2749 2258" width="2749px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="2052.2949" style="stroke:#181818;stroke-width:1.0;" width="10" x="17.5" y="98.2422"/><rect fill="#FFFFFF" height="111.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="325.5" y="121.5332"/><rect fill="#FFFFFF" height="1908.8398" style="stroke:#181818;stroke-width:1.0;" width="10" x="568.5" y="232.6973"/><rect fill="#FFFFFF" height="530.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="682.5" y="295.2793"/><rect fill="#FFFFFF" height="1007.7305" style="stroke:#181818;stroke-width:1.0;" width="10" x="682.5" y="1071.2246"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="263.9883"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="825.8965"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="1039.9336"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="1532.9688"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="2078.9551"/><rect fill="#FFFFFF" height="423.7441" style="stroke:#181818;stroke-width:1.0;" width="10" x="1179" y="370.8613"/><rect fill="#FFFFFF" height="900.8574" style="stroke:#181818;stroke-width:1.0;" width="10" x="1179" y="1146.8066"/><rect fill="#FFFFFF" height="79.543" style="stroke:#181818;stroke-width:1.0;" width="10" x="1379" y="402.1523"/><rect fill="#FFFFFF" height="250.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="1726" y="512.9863"/><rect fill="#FFFFFF" height="838.2754" style="stroke:#181818;stroke-width:1.0;" width="10" x="1726" y="1178.0977"/><rect fill="#FFFFFF" height="62.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1937" y="544.2773"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="2480" y="700.7324"/><rect fill="none" height="988.7305" style="stroke:#000000;stroke-width:1.5;" width="2233" x="509" y="997.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="22" x2="22" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="330" x2="330" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="573" x2="573" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="687" x2="687" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1045" x2="1045" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1184" x2="1184" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1383.5" x2="1383.5" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1540.5" x2="1540.5" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1730.5" x2="1730.5" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1942" x2="1942" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2085" x2="2085" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2201" x2="2201" y1="1836.1074" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2324" x2="2324" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2485" x2="2485" y1="88.2422" y2="2159.5371"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2653" x2="2653" y1="88.2422" y2="2159.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="84.7285">User</text><ellipse cx="22.5" cy="18.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,26.1211 L22.5,53.1211 M9.5,34.1211 L35.5,34.1211 M22.5,53.1211 L9.5,68.1211 M22.5,53.1211 L35.5,68.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="2173.6445">User</text><ellipse cx="22.5" cy="2185.6582" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,2193.6582 L22.5,2220.6582 M9.5,2201.6582 L35.5,2201.6582 M22.5,2220.6582 L9.5,2235.6582 M22.5,2220.6582 L35.5,2235.6582 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="296" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55" x="303" y="58.1074">«server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="312.5" y="76.7285">Client</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="296" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55" x="303" y="2180.6445">«server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="312.5" y="2199.2656">Client</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="519" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="526" y="58.1074">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="529.5" y="76.7285">ShareBoardUI</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="519" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="526" y="2180.6445">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="529.5" y="2199.2656">ShareBoardUI</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="638" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55" x="660" y="58.1074">«server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="645" y="76.7285">ClientHandler</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="638" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="55" x="660" y="2180.6445">«server»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="645" y="2199.2656">ClientHandler</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="993" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1015.5" y="58.1074">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1000" y="76.7285">RcompService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="993" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1015.5" y="2180.6445">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1000" y="2199.2656">RcompService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="1108" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1142" y="58.1074">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1115" y="76.7285">ShareBoardController</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="1108" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1142" y="2180.6445">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="1115" y="2199.2656">ShareBoardController</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="1308.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1354" y="58.1074">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1315.5" y="76.7285">AuthenticationService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="1308.5" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1354" y="2180.6445">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="1315.5" y="2199.2656">AuthenticationService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="1469.5" y="54.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1476.5" y="76.7285">sysuser SystemUser</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="1469.5" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1476.5" y="2180.6445">sysuser SystemUser</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="219" x="1621.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1701" y="58.1074">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="1628.5" y="76.7285">ShareBoardManagementService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="219" x="1621.5" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="1701" y="2180.6445">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="1628.5" y="2199.2656">ShareBoardManagementService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1874" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1897.5" y="58.1074">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1881" y="76.7285">PersistenceContext</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1874" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1897.5" y="2180.6445">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1881" y="2199.2656">PersistenceContext</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="2020" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="2055.5" y="58.1074">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2027" y="76.7285">RepositoryFactory</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="2020" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="2055.5" y="2180.6445">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2027" y="2199.2656">RepositoryFactory</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="2160" y="2158.5371"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2167" y="2180.6445">Permission</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2282" y="66.1074">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2253" y="84.7285">PermissionRepository</text><path d="M2306.5,15 C2306.5,5 2324.5,5 2324.5,5 C2324.5,5 2342.5,5 2342.5,15 L2342.5,41 C2342.5,51 2324.5,51 2324.5,51 C2324.5,51 2306.5,51 2306.5,41 L2306.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2306.5,15 C2306.5,25 2324.5,25 2324.5,25 C2324.5,25 2342.5,25 2342.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2282" y="2173.6445">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="2253" y="2192.2656">PermissionRepository</text><path d="M2306.5,2205.7793 C2306.5,2195.7793 2324.5,2195.7793 2324.5,2195.7793 C2324.5,2195.7793 2342.5,2195.7793 2342.5,2205.7793 L2342.5,2231.7793 C2342.5,2241.7793 2324.5,2241.7793 2324.5,2241.7793 C2324.5,2241.7793 2306.5,2241.7793 2306.5,2231.7793 L2306.5,2205.7793 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2306.5,2205.7793 C2306.5,2215.7793 2324.5,2215.7793 2324.5,2215.7793 C2324.5,2215.7793 2342.5,2215.7793 2342.5,2205.7793 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2442.5" y="66.1074">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2406" y="84.7285">SharedBoardRepository</text><path d="M2467,15 C2467,5 2485,5 2485,5 C2485,5 2503,5 2503,15 L2503,41 C2503,51 2485,51 2485,51 C2485,51 2467,51 2467,41 L2467,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2467,15 C2467,25 2485,25 2485,25 C2485,25 2503,25 2503,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2442.5" y="2173.6445">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2406" y="2192.2656">SharedBoardRepository</text><path d="M2467,2205.7793 C2467,2195.7793 2485,2195.7793 2485,2195.7793 C2485,2195.7793 2503,2195.7793 2503,2205.7793 L2503,2231.7793 C2503,2241.7793 2485,2241.7793 2485,2241.7793 C2485,2241.7793 2467,2241.7793 2467,2231.7793 L2467,2205.7793 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2467,2205.7793 C2467,2215.7793 2485,2215.7793 2485,2215.7793 C2485,2215.7793 2503,2215.7793 2503,2205.7793 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2610.5" y="66.1074">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2574" y="84.7285">ECourseUserRepository</text><path d="M2635,15 C2635,5 2653,5 2653,5 C2653,5 2671,5 2671,15 L2671,41 C2671,51 2653,51 2653,51 C2653,51 2635,51 2635,41 L2635,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2635,15 C2635,25 2653,25 2653,25 C2653,25 2671,25 2671,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2610.5" y="2173.6445">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="2574" y="2192.2656">ECourseUserRepository</text><path d="M2635,2205.7793 C2635,2195.7793 2653,2195.7793 2653,2195.7793 C2653,2195.7793 2671,2195.7793 2671,2205.7793 L2671,2231.7793 C2671,2241.7793 2653,2241.7793 2653,2241.7793 C2653,2241.7793 2635,2241.7793 2635,2231.7793 L2635,2205.7793 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M2635,2205.7793 C2635,2215.7793 2653,2215.7793 2653,2215.7793 C2653,2215.7793 2671,2215.7793 2671,2205.7793 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="2052.2949" style="stroke:#181818;stroke-width:1.0;" width="10" x="17.5" y="98.2422"/><rect fill="#FFFFFF" height="111.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="325.5" y="121.5332"/><rect fill="#FFFFFF" height="1908.8398" style="stroke:#181818;stroke-width:1.0;" width="10" x="568.5" y="232.6973"/><rect fill="#FFFFFF" height="530.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="682.5" y="295.2793"/><rect fill="#FFFFFF" height="1007.7305" style="stroke:#181818;stroke-width:1.0;" width="10" x="682.5" y="1071.2246"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="263.9883"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="825.8965"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="1039.9336"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="1532.9688"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="1040.5" y="2078.9551"/><rect fill="#FFFFFF" height="423.7441" style="stroke:#181818;stroke-width:1.0;" width="10" x="1179" y="370.8613"/><rect fill="#FFFFFF" height="900.8574" style="stroke:#181818;stroke-width:1.0;" width="10" x="1179" y="1146.8066"/><rect fill="#FFFFFF" height="79.543" style="stroke:#181818;stroke-width:1.0;" width="10" x="1379" y="402.1523"/><rect fill="#FFFFFF" height="250.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="1726" y="512.9863"/><rect fill="#FFFFFF" height="838.2754" style="stroke:#181818;stroke-width:1.0;" width="10" x="1726" y="1178.0977"/><rect fill="#FFFFFF" height="62.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1937" y="544.2773"/><rect fill="#FFFFFF" height="31.291" style="stroke:#181818;stroke-width:1.0;" width="10" x="2480" y="700.7324"/><polygon fill="#181818" points="313.5,117.5332,323.5,121.5332,313.5,125.5332,317.5,121.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="319.5" y1="121.5332" y2="121.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="34.5" y="116.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="45.5" y="116.2705">Does Login</text><polygon fill="#181818" points="38.5,148.8242,28.5,152.8242,38.5,156.8242,34.5,152.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.5" x2="324.5" y1="152.8242" y2="152.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="44.5" y="147.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="55.5" y="147.5615">shows User menu</text><polygon fill="#181818" points="313.5,180.1152,323.5,184.1152,313.5,188.1152,317.5,184.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="319.5" y1="184.1152" y2="184.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="34.5" y="178.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="263" x="45.5" y="178.8525">Requests to share a board owned by the user</text><polygon fill="#181818" points="556.5,228.6973,566.5,232.6973,556.5,236.6973,560.5,232.6973" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="330.5" x2="562.5" y1="232.6973" y2="232.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="337.5" y="218.7891">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="348.5" y="210.1436">shareBoardUI(socket, inputStream,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="352.5" y="227.4346">outputStream, bufferedReader)</text><polygon fill="#181818" points="1028.5,259.9883,1038.5,263.9883,1028.5,267.9883,1032.5,263.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="578.5" x2="1034.5" y1="263.9883" y2="263.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="585.5" y="258.7256">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="596.5" y="258.7256">sendMessage(socket, formatMessage, outputStream)</text><polygon fill="#181818" points="703.5,291.2793,693.5,295.2793,703.5,299.2793,699.5,295.2793" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="697.5" x2="1044.5" y1="295.2793" y2="295.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="709.5" y="290.0166">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="720.5" y="290.0166">readData(socket, dataInputStream)</text><line style="stroke:#181818;stroke-width:1.0;" x1="692.5" x2="734.5" y1="326.5703" y2="326.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="734.5" x2="734.5" y1="326.5703" y2="339.5703"/><line style="stroke:#181818;stroke-width:1.0;" x1="693.5" x2="734.5" y1="339.5703" y2="339.5703"/><polygon fill="#181818" points="703.5,335.5703,693.5,339.5703,703.5,343.5703,699.5,339.5703" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="699.5" y="321.3076">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="710.5" y="321.3076">shareBoard(message)</text><polygon fill="#181818" points="1167,366.8613,1177,370.8613,1167,374.8613,1171,370.8613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="692.5" x2="1173" y1="370.8613" y2="370.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="699.5" y="365.5986">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="710.5" y="365.5986">listOwnedBoards()</text><polygon fill="#181818" points="1367,398.1523,1377,402.1523,1367,406.1523,1371,402.1523" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1189" x2="1373" y1="402.1523" y2="402.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1196" y="396.8896">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="1207" y="396.8896">sysuser = getSystemUser()</text><rect fill="none" height="43.252" style="stroke:#000000;stroke-width:1.5;" width="226" x="1305.5" y="410.1523"/><path d="M1305.5,410.1523 L1367.5,410.1523 L1367.5,419.1523 L1357.5,429.1523 L1305.5,429.1523 L1305.5,410.1523 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="1318.5" y="426.1807">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="218" x="1309.5" y="446.1016">Sequence Diagram - SD_Authentication</text><polygon fill="#181818" points="1200,477.6953,1190,481.6953,1200,485.6953,1196,481.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1194" x2="1383" y1="481.6953" y2="481.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1206" y="476.4326">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="1224" y="476.4326">sysuser</text><polygon fill="#181818" points="1714,508.9863,1724,512.9863,1714,516.9863,1718,512.9863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1189" x2="1720" y1="512.9863" y2="512.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1196" y="507.7236">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="1214" y="507.7236">ListOwnedBoards(email)</text><polygon fill="#181818" points="1925,540.2773,1935,544.2773,1925,548.2773,1929,544.2773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="1931" y1="544.2773" y2="544.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="539.0146">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1761" y="539.0146">factory = repositories()</text><polygon fill="#181818" points="2073,571.5684,2083,575.5684,2073,579.5684,2077,575.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1947" x2="2079" y1="575.5684" y2="575.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1954" y="570.3057">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1972" y="570.3057">create</text><polygon fill="#181818" points="1747,602.8594,1737,606.8594,1747,610.8594,1743,606.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1741" x2="1941" y1="606.8594" y2="606.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="601.5967">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="1771" y="601.5967">factory</text><polygon fill="#181818" points="2473,634.1504,2483,638.1504,2473,642.1504,2477,638.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2479" y1="638.1504" y2="638.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="632.8877">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="1761" y="632.8877">boardRepo = sharedBoardRepository()</text><polygon fill="#181818" points="1747,665.4414,1737,669.4414,1747,673.4414,1743,669.4414" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1741" x2="2484" y1="669.4414" y2="669.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="664.1787">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="1771" y="664.1787">boardRepo</text><polygon fill="#181818" points="2468,696.7324,2478,700.7324,2468,704.7324,2472,700.7324" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2474" y1="700.7324" y2="700.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="695.4697">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="1761" y="695.4697">ListOwnedBoards(email)</text><polygon fill="#181818" points="1747,728.0234,1737,732.0234,1747,736.0234,1743,732.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1741" x2="2484" y1="732.0234" y2="732.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="726.7607">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1771" y="726.7607">ListOwnedBoards</text><polygon fill="#181818" points="1200,759.3145,1190,763.3145,1200,767.3145,1196,763.3145" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1194" x2="1730" y1="763.3145" y2="763.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1206" y="758.0518">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="1224" y="758.0518">ListOwnedBoards</text><polygon fill="#181818" points="703.5,790.6055,693.5,794.6055,703.5,798.6055,699.5,794.6055" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="697.5" x2="1183" y1="794.6055" y2="794.6055"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="709.5" y="789.3428">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="727.5" y="789.3428">ListOwnedBoards</text><polygon fill="#181818" points="1028.5,821.8965,1038.5,825.8965,1028.5,829.8965,1032.5,825.8965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1034.5" y1="825.8965" y2="825.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="694.5" y="820.6338">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="712.5" y="820.6338">sendMessage(socket, formatMessage, outputStream)</text><polygon fill="#181818" points="589.5,853.1875,579.5,857.1875,589.5,861.1875,585.5,857.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="583.5" x2="1044.5" y1="857.1875" y2="857.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="595.5" y="851.9248">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="613.5" y="851.9248">readData(socket, dataInputStream)</text><polygon fill="#181818" points="38.5,884.4785,28.5,888.4785,38.5,892.4785,34.5,888.4785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.5" x2="567.5" y1="888.4785" y2="888.4785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="44.5" y="883.2158">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="62.5" y="883.2158">Lists boards owned by the user and asks to select one</text><polygon fill="#181818" points="556.5,915.7695,566.5,919.7695,556.5,923.7695,560.5,919.7695" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="562.5" y1="919.7695" y2="919.7695"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="34.5" y="914.5068">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="52.5" y="914.5068">Selects a board</text><polygon fill="#181818" points="38.5,947.0605,28.5,951.0605,38.5,955.0605,34.5,951.0605" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.5" x2="567.5" y1="951.0605" y2="951.0605"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="44.5" y="945.7979">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="62.5" y="945.7979">Requests data (email, permission)</text><polygon fill="#181818" points="556.5,978.3516,566.5,982.3516,556.5,986.3516,560.5,982.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="562.5" y1="982.3516" y2="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="34.5" y="977.0889">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="52.5" y="977.0889">Types requested data (email, permission)</text><path d="M509,997.3516 L570,997.3516 L570,1006.6426 L560,1016.6426 L509,1016.6426 L509,997.3516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="988.7305" style="stroke:#000000;stroke-width:1.5;" width="2233" x="509" y="997.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="524" y="1012.3799">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="585" y="1011.2217">[Read Permission]</text><polygon fill="#181818" points="1028.5,1035.9336,1038.5,1039.9336,1028.5,1043.9336,1032.5,1039.9336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="578.5" x2="1034.5" y1="1039.9336" y2="1039.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="585.5" y="1034.6709">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="603.5" y="1034.6709">sendMessage(socket, formatMessage, outputStream)</text><polygon fill="#181818" points="703.5,1067.2246,693.5,1071.2246,703.5,1075.2246,699.5,1071.2246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="697.5" x2="1044.5" y1="1071.2246" y2="1071.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="709.5" y="1065.9619">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="727.5" y="1065.9619">readData(socket, dataInputStream)</text><line style="stroke:#181818;stroke-width:1.0;" x1="692.5" x2="734.5" y1="1102.5156" y2="1102.5156"/><line style="stroke:#181818;stroke-width:1.0;" x1="734.5" x2="734.5" y1="1102.5156" y2="1115.5156"/><line style="stroke:#181818;stroke-width:1.0;" x1="693.5" x2="734.5" y1="1115.5156" y2="1115.5156"/><polygon fill="#181818" points="703.5,1111.5156,693.5,1115.5156,703.5,1119.5156,699.5,1115.5156" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="699.5" y="1097.2529">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="717.5" y="1097.2529">shareBoard(message)</text><polygon fill="#181818" points="1167,1142.8066,1177,1146.8066,1167,1150.8066,1171,1146.8066" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="692.5" x2="1173" y1="1146.8066" y2="1146.8066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="699.5" y="1141.5439">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="717.5" y="1141.5439">readPermission(selectedBoard, email)</text><polygon fill="#181818" points="1714,1174.0977,1724,1178.0977,1714,1182.0977,1718,1178.0977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1189" x2="1720" y1="1178.0977" y2="1178.0977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1196" y="1172.835">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="1214" y="1172.835">readPermission(selectedBoard, email)</text><polygon fill="#181818" points="2641,1205.3887,2651,1209.3887,2641,1213.3887,2645,1209.3887" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2647" y1="1209.3887" y2="1209.3887"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1204.126">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="1761" y="1204.126">ecourseUserRepo = ecourseUserRepository()</text><polygon fill="#181818" points="1747,1236.6797,1737,1240.6797,1747,1244.6797,1743,1240.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1741" x2="2652" y1="1240.6797" y2="1240.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="1235.417">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="1771" y="1235.417">ecourseUserRepo</text><polygon fill="#181818" points="2641,1267.9707,2651,1271.9707,2641,1275.9707,2645,1271.9707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2647" y1="1271.9707" y2="1271.9707"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1266.708">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1761" y="1266.708">eCourseUserByEmail(email)</text><polygon fill="#181818" points="1747,1299.2617,1737,1303.2617,1747,1307.2617,1743,1303.2617" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1741" x2="2652" y1="1303.2617" y2="1303.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="1297.999">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1771" y="1297.999">eCourseUser</text><polygon fill="#181818" points="2148,1330.5527,2158,1334.5527,2148,1338.5527,2152,1334.5527" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2154" y1="1334.5527" y2="1334.5527"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1329.29">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="1761" y="1329.29">create(selectedBoard, eCourseUser)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="2160" y="1311.2617"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2167" y="1333.3691">Permission</text><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="1778" y1="1378.1738" y2="1378.1738"/><line style="stroke:#181818;stroke-width:1.0;" x1="1778" x2="1778" y1="1378.1738" y2="1391.1738"/><line style="stroke:#181818;stroke-width:1.0;" x1="1737" x2="1778" y1="1391.1738" y2="1391.1738"/><polygon fill="#181818" points="1747,1387.1738,1737,1391.1738,1747,1395.1738,1743,1391.1738" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1372.9111">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="1761" y="1372.9111">Permission.readPermission()</text><polygon fill="#181818" points="2312.5,1418.4648,2322.5,1422.4648,2312.5,1426.4648,2316.5,1422.4648" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2318.5" y1="1422.4648" y2="1422.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1417.2021">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1761" y="1417.2021">permRepo = permissionRepository()</text><polygon fill="#181818" points="1747,1449.7559,1737,1453.7559,1747,1457.7559,1743,1453.7559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1741" x2="2323.5" y1="1453.7559" y2="1453.7559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="1448.4932">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="1771" y="1448.4932">permRepo</text><polygon fill="#181818" points="2312.5,1481.0469,2322.5,1485.0469,2312.5,1489.0469,2316.5,1485.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2318.5" y1="1485.0469" y2="1485.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1479.7842">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="1761" y="1479.7842">save()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="509" x2="2742" y1="1494.0469" y2="1494.0469"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="104" x="514" y="1505.917">[Write Permission]</text><polygon fill="#181818" points="1028.5,1528.9688,1038.5,1532.9688,1028.5,1536.9688,1032.5,1532.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="578.5" x2="1034.5" y1="1532.9688" y2="1532.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="585.5" y="1527.7061">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="603.5" y="1527.7061">sendMessage(socket, formatMessage, outputStream)</text><polygon fill="#181818" points="703.5,1560.2598,693.5,1564.2598,703.5,1568.2598,699.5,1564.2598" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="697.5" x2="1044.5" y1="1564.2598" y2="1564.2598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="709.5" y="1558.9971">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="727.5" y="1558.9971">readData(socket, dataInputStream)</text><line style="stroke:#181818;stroke-width:1.0;" x1="692.5" x2="734.5" y1="1595.5508" y2="1595.5508"/><line style="stroke:#181818;stroke-width:1.0;" x1="734.5" x2="734.5" y1="1595.5508" y2="1608.5508"/><line style="stroke:#181818;stroke-width:1.0;" x1="693.5" x2="734.5" y1="1608.5508" y2="1608.5508"/><polygon fill="#181818" points="703.5,1604.5508,693.5,1608.5508,703.5,1612.5508,699.5,1608.5508" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="699.5" y="1590.2881">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="717.5" y="1590.2881">shareBoard(message)</text><polygon fill="#181818" points="1167,1635.8418,1177,1639.8418,1167,1643.8418,1171,1639.8418" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="692.5" x2="1173" y1="1639.8418" y2="1639.8418"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="699.5" y="1634.5791">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="717.5" y="1634.5791">writePermission(selectedBoard, email)</text><polygon fill="#181818" points="1714,1667.1328,1724,1671.1328,1714,1675.1328,1718,1671.1328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1189" x2="1720" y1="1671.1328" y2="1671.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1196" y="1665.8701">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="1214" y="1665.8701">writePermission(selectedBoard, email)</text><polygon fill="#181818" points="2641,1698.4238,2651,1702.4238,2641,1706.4238,2645,1702.4238" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2647" y1="1702.4238" y2="1702.4238"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1697.1611">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="262" x="1761" y="1697.1611">ecourseUserRepo = ecourseUserRepository()</text><polygon fill="#181818" points="1747,1729.7148,1737,1733.7148,1747,1737.7148,1743,1733.7148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1741" x2="2652" y1="1733.7148" y2="1733.7148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="1728.4521">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="1771" y="1728.4521">ecourseUserRepo</text><polygon fill="#181818" points="2641,1761.0059,2651,1765.0059,2641,1769.0059,2645,1765.0059" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2647" y1="1765.0059" y2="1765.0059"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1759.7432">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="1761" y="1759.7432">eCourseUserByEmail(email)</text><polygon fill="#181818" points="1747,1792.2969,1737,1796.2969,1747,1800.2969,1743,1796.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1741" x2="2652" y1="1796.2969" y2="1796.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="1791.0342">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1771" y="1791.0342">eCourseUser</text><polygon fill="#181818" points="2148,1823.5879,2158,1827.5879,2148,1831.5879,2152,1827.5879" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2154" y1="1827.5879" y2="1827.5879"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1822.3252">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="1761" y="1822.3252">create(selectedBoard, eCourseUser)</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="2160" y="1804.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="2167" y="1826.4043">Permission</text><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="1778" y1="1871.209" y2="1871.209"/><line style="stroke:#181818;stroke-width:1.0;" x1="1778" x2="1778" y1="1871.209" y2="1884.209"/><line style="stroke:#181818;stroke-width:1.0;" x1="1737" x2="1778" y1="1884.209" y2="1884.209"/><polygon fill="#181818" points="1747,1880.209,1737,1884.209,1747,1888.209,1743,1884.209" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1865.9463">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="1761" y="1865.9463">Permission.writePermission()</text><polygon fill="#181818" points="2312.5,1911.5,2322.5,1915.5,2312.5,1919.5,2316.5,1915.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2318.5" y1="1915.5" y2="1915.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1910.2373">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1761" y="1910.2373">permRepo = permissionRepository()</text><polygon fill="#181818" points="1747,1942.791,1737,1946.791,1747,1950.791,1743,1946.791" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1741" x2="2323.5" y1="1946.791" y2="1946.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1753" y="1941.5283">53</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59" x="1771" y="1941.5283">permRepo</text><polygon fill="#181818" points="2312.5,1974.082,2322.5,1978.082,2312.5,1982.082,2316.5,1978.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1736" x2="2318.5" y1="1978.082" y2="1978.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1743" y="1972.8193">54</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="1761" y="1972.8193">save()</text><polygon fill="#181818" points="1200,2012.373,1190,2016.373,1200,2020.373,1196,2016.373" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1194" x2="1730" y1="2016.373" y2="2016.373"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1206" y="2011.1104">55</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1224" y="2011.1104">Operation success</text><polygon fill="#181818" points="703.5,2043.6641,693.5,2047.6641,703.5,2051.6641,699.5,2047.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="697.5" x2="1183" y1="2047.6641" y2="2047.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="709.5" y="2042.4014">56</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="727.5" y="2042.4014">Operation success</text><polygon fill="#181818" points="1028.5,2074.9551,1038.5,2078.9551,1028.5,2082.9551,1032.5,2078.9551" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="687.5" x2="1034.5" y1="2078.9551" y2="2078.9551"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="694.5" y="2073.6924">57</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="712.5" y="2073.6924">sendMessage(socket, formatMessage, outputStream)</text><polygon fill="#181818" points="589.5,2106.2461,579.5,2110.2461,589.5,2114.2461,585.5,2110.2461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="583.5" x2="1044.5" y1="2110.2461" y2="2110.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="595.5" y="2104.9834">58</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="613.5" y="2104.9834">readData(socket, dataInputStream)</text><polygon fill="#181818" points="38.5,2137.5371,28.5,2141.5371,38.5,2145.5371,34.5,2141.5371" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.5" x2="572.5" y1="2141.5371" y2="2141.5371"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="44.5" y="2136.2744">59</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="62.5" y="2136.2744">Operation success</text><!--MD5=[e2775e3e974ac7fb8a9525c389da37a6]
@startuml
'https://plantuml.com/sequence-diagram

actor "User" as user
participant "Client" as client <<server>>
participant "ShareBoardUI" as ui <<presentation>>
participant "ClientHandler" as clientHandler <<server>>
participant "RcompService" as rcompService <<service>>
participant "ShareBoardController" as ctrl <<application>>
participant "AuthenticationService" as auth <<service>>
participant "sysuser SystemUser" as sys
participant "ShareBoardManagementService" as boardService <<service>>
participant "PersistenceContext" as pc <<persistence>>
participant "RepositoryFactory" as repFac <<factory>>
participant "Permission" as Perm
database "PermissionRepository" as permRepo <<repository>>
database "SharedBoardRepository" as boardRepo <<repository>>
database "ECourseUserRepository" as ecourseUserRepo <<repository>>


autonumber

activate user

user -> client : Does Login
activate client
client - -> user : shows User menu
user -> client : Requests to share a board owned by the user
client -> ui : shareBoardUI(socket, inputStream,\n outputStream, bufferedReader)
deactivate client
activate ui
ui -> rcompService : sendMessage(socket, formatMessage, outputStream)
activate rcompService
rcompService - -> clientHandler: readData(socket, dataInputStream)
deactivate rcompService
activate clientHandler
clientHandler -> clientHandler : shareBoard(message)
clientHandler -> ctrl: listOwnedBoards()
activate ctrl
ctrl -> auth: sysuser = getSystemUser()
activate auth
ref over auth
Sequence Diagram - SD_Authentication
end
auth- -> ctrl: sysuser
deactivate auth
ctrl -> boardService: ListOwnedBoards(email)
activate boardService
boardService->pc: factory = repositories()
activate pc
pc->repFac: create
pc->boardService: factory
deactivate pc
boardService -> boardRepo: boardRepo = sharedBoardRepository()
boardRepo -> boardService : boardRepo
boardService -> boardRepo: ListOwnedBoards(email)
activate boardRepo
boardRepo - -> boardService: ListOwnedBoards
deactivate boardRepo
boardService - -> ctrl: ListOwnedBoards
deactivate boardService
ctrl - -> clientHandler: ListOwnedBoards
deactivate ctrl
clientHandler -> rcompService : sendMessage(socket, formatMessage, outputStream)
deactivate clientHandler
activate rcompService
rcompService - -> ui: readData(socket, dataInputStream)
deactivate rcompService

deactivate boardService
ui - -> user: Lists boards owned by the user and asks to select one
user -> ui: Selects a board
user <- - ui: Requests data (email, permission)
user -> ui: Types requested data (email, permission)

alt Read Permission

ui -> rcompService : sendMessage(socket, formatMessage, outputStream)
activate rcompService
rcompService - -> clientHandler: readData(socket, dataInputStream)
deactivate rcompService
activate clientHandler
clientHandler -> clientHandler : shareBoard(message)
clientHandler->ctrl : readPermission(selectedBoard, email)
activate ctrl
ctrl -> boardService: readPermission(selectedBoard, email)
activate boardService
boardService -> ecourseUserRepo: ecourseUserRepo = ecourseUserRepository()
ecourseUserRepo -> boardService : ecourseUserRepo
boardService -> ecourseUserRepo : eCourseUserByEmail(email)
ecourseUserRepo -> boardService : eCourseUser
boardService -> Perm** : create(selectedBoard, eCourseUser)
boardService -> boardService : Permission.readPermission()
boardService -> permRepo: permRepo = permissionRepository()
permRepo -> boardService : permRepo
boardService -> permRepo : save()

else Write Permission

ui -> rcompService : sendMessage(socket, formatMessage, outputStream)
activate rcompService
rcompService - -> clientHandler: readData(socket, dataInputStream)
deactivate rcompService
clientHandler -> clientHandler : shareBoard(message)
clientHandler->ctrl : writePermission(selectedBoard, email)

ctrl -> boardService: writePermission(selectedBoard, email)

boardService -> ecourseUserRepo: ecourseUserRepo = ecourseUserRepository()
ecourseUserRepo -> boardService : ecourseUserRepo
boardService -> ecourseUserRepo : eCourseUserByEmail(email)
ecourseUserRepo -> boardService : eCourseUser
boardService -> Perm** : create(selectedBoard, eCourseUser)
boardService -> boardService : Permission.writePermission()
boardService -> permRepo: permRepo = permissionRepository()
permRepo -> boardService : permRepo
boardService -> permRepo : save()

end

boardService - -> ctrl : Operation success
deactivate boardService
ctrl - -> clientHandler : Operation success
deactivate ctrl
clientHandler -> rcompService : sendMessage(socket, formatMessage, outputStream)
deactivate clientHandler
activate rcompService
rcompService - -> ui: readData(socket, dataInputStream)
deactivate rcompService
ui - -> user : Operation success
deactivate ui
@enduml

@startuml

actor "User" as user
participant "Client" as client <<server>>
participant "ShareBoardUI" as ui <<presentation>>
participant "ClientHandler" as clientHandler <<server>>
participant "RcompService" as rcompService <<service>>
participant "ShareBoardController" as ctrl <<application>>
participant "AuthenticationService" as auth <<service>>
participant "sysuser SystemUser" as sys
participant "ShareBoardManagementService" as boardService <<service>>
participant "PersistenceContext" as pc <<persistence>>
participant "RepositoryFactory" as repFac <<factory>>
participant "Permission" as Perm
database "PermissionRepository" as permRepo <<repository>>
database "SharedBoardRepository" as boardRepo <<repository>>
database "ECourseUserRepository" as ecourseUserRepo <<repository>>


autonumber

activate user

user -> client : Does Login
activate client
client - -> user : shows User menu
user -> client : Requests to share a board owned by the user
client -> ui : shareBoardUI(socket, inputStream,\n outputStream, bufferedReader)
deactivate client
activate ui
ui -> rcompService : sendMessage(socket, formatMessage, outputStream)
activate rcompService
rcompService - -> clientHandler: readData(socket, dataInputStream)
deactivate rcompService
activate clientHandler
clientHandler -> clientHandler : shareBoard(message)
clientHandler -> ctrl: listOwnedBoards()
activate ctrl
ctrl -> auth: sysuser = getSystemUser()
activate auth
ref over auth
Sequence Diagram - SD_Authentication
end
auth- -> ctrl: sysuser
deactivate auth
ctrl -> boardService: ListOwnedBoards(email)
activate boardService
boardService->pc: factory = repositories()
activate pc
pc->repFac: create
pc->boardService: factory
deactivate pc
boardService -> boardRepo: boardRepo = sharedBoardRepository()
boardRepo -> boardService : boardRepo
boardService -> boardRepo: ListOwnedBoards(email)
activate boardRepo
boardRepo - -> boardService: ListOwnedBoards
deactivate boardRepo
boardService - -> ctrl: ListOwnedBoards
deactivate boardService
ctrl - -> clientHandler: ListOwnedBoards
deactivate ctrl
clientHandler -> rcompService : sendMessage(socket, formatMessage, outputStream)
deactivate clientHandler
activate rcompService
rcompService - -> ui: readData(socket, dataInputStream)
deactivate rcompService

deactivate boardService
ui - -> user: Lists boards owned by the user and asks to select one
user -> ui: Selects a board
user <- - ui: Requests data (email, permission)
user -> ui: Types requested data (email, permission)

alt Read Permission

ui -> rcompService : sendMessage(socket, formatMessage, outputStream)
activate rcompService
rcompService - -> clientHandler: readData(socket, dataInputStream)
deactivate rcompService
activate clientHandler
clientHandler -> clientHandler : shareBoard(message)
clientHandler->ctrl : readPermission(selectedBoard, email)
activate ctrl
ctrl -> boardService: readPermission(selectedBoard, email)
activate boardService
boardService -> ecourseUserRepo: ecourseUserRepo = ecourseUserRepository()
ecourseUserRepo -> boardService : ecourseUserRepo
boardService -> ecourseUserRepo : eCourseUserByEmail(email)
ecourseUserRepo -> boardService : eCourseUser
boardService -> Perm** : create(selectedBoard, eCourseUser)
boardService -> boardService : Permission.readPermission()
boardService -> permRepo: permRepo = permissionRepository()
permRepo -> boardService : permRepo
boardService -> permRepo : save()

else Write Permission

ui -> rcompService : sendMessage(socket, formatMessage, outputStream)
activate rcompService
rcompService - -> clientHandler: readData(socket, dataInputStream)
deactivate rcompService
clientHandler -> clientHandler : shareBoard(message)
clientHandler->ctrl : writePermission(selectedBoard, email)

ctrl -> boardService: writePermission(selectedBoard, email)

boardService -> ecourseUserRepo: ecourseUserRepo = ecourseUserRepository()
ecourseUserRepo -> boardService : ecourseUserRepo
boardService -> ecourseUserRepo : eCourseUserByEmail(email)
ecourseUserRepo -> boardService : eCourseUser
boardService -> Perm** : create(selectedBoard, eCourseUser)
boardService -> boardService : Permission.writePermission()
boardService -> permRepo: permRepo = permissionRepository()
permRepo -> boardService : permRepo
boardService -> permRepo : save()

end

boardService - -> ctrl : Operation success
deactivate boardService
ctrl - -> clientHandler : Operation success
deactivate ctrl
clientHandler -> rcompService : sendMessage(socket, formatMessage, outputStream)
deactivate clientHandler
activate rcompService
rcompService - -> ui: readData(socket, dataInputStream)
deactivate rcompService
ui - -> user : Operation success
deactivate ui
@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>