<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="725px" preserveAspectRatio="none" style="width:1484px;height:725px;background:#FFFFFF;" version="1.1" viewBox="0 0 1484 725" width="1484px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="518.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="17.5" y="98.2422"/><rect fill="#FFFFFF" height="486.3262" style="stroke:#181818;stroke-width:1.0;" width="10" x="207.5" y="121.5332"/><rect fill="#FFFFFF" height="423.7441" style="stroke:#181818;stroke-width:1.0;" width="10" x="360" y="152.8242"/><rect fill="#FFFFFF" height="79.543" style="stroke:#181818;stroke-width:1.0;" width="10" x="560" y="184.1152"/><rect fill="#FFFFFF" height="250.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="889" y="294.9492"/><rect fill="#FFFFFF" height="62.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1059" y="326.2402"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="22" x2="22" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="212.5" x2="212.5" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="364.5" x2="364.5" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="564.5" x2="564.5" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="721.5" x2="721.5" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="893.5" x2="893.5" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1064" x2="1064" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1207" x2="1207" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1343" x2="1343" y1="88.2422" y2="625.8594"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1446" x2="1446" y1="88.2422" y2="625.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="84.7285">User</text><ellipse cx="22.5" cy="18.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,26.1211 L22.5,53.1211 M9.5,34.1211 L35.5,34.1211 M22.5,53.1211 L9.5,68.1211 M22.5,53.1211 L35.5,68.1211 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="5" y="639.9668">User</text><ellipse cx="22.5" cy="651.9805" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M22.5,659.9805 L22.5,686.9805 M9.5,667.9805 L35.5,667.9805 M22.5,686.9805 L9.5,701.9805 M22.5,686.9805 L35.5,701.9805 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="152.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="165" y="58.1074">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="159.5" y="76.7285">studentGradesUI</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="152.5" y="624.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="165" y="646.9668">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106" x="159.5" y="665.5879">studentGradesUI</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="282.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="323" y="58.1074">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="289.5" y="76.7285">StudentGradeController</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="282.5" y="624.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="323" y="646.9668">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="289.5" y="665.5879">StudentGradeController</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="489.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="535" y="58.1074">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="496.5" y="76.7285">AuthenticationService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151" x="489.5" y="624.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="535" y="646.9668">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="496.5" y="665.5879">AuthenticationService</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="650.5" y="54.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="657.5" y="76.7285">sysuser SystemUser</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="650.5" y="624.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="657.5" y="646.9668">sysuser SystemUser</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="802.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="864" y="58.1074">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="809.5" y="76.7285">GradeManagementService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="183" x="802.5" y="624.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="60" x="864" y="646.9668">«service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="809.5" y="665.5879">GradeManagementService</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="996" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1019.5" y="58.1074">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1003" y="76.7285">PersistenceContext</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="996" y="624.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1019.5" y="646.9668">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1003" y="665.5879">PersistenceContext</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1142" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1177.5" y="58.1074">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1149" y="76.7285">RepositoryFactory</text><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1142" y="624.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1177.5" y="646.9668">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1149" y="665.5879">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1301" y="66.1074">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1282" y="84.7285">StudentRepository</text><path d="M1325.5,15 C1325.5,5 1343.5,5 1343.5,5 C1343.5,5 1361.5,5 1361.5,15 L1361.5,41 C1361.5,51 1343.5,51 1343.5,51 C1343.5,51 1325.5,51 1325.5,41 L1325.5,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1325.5,15 C1325.5,25 1343.5,25 1343.5,25 C1343.5,25 1361.5,25 1361.5,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1301" y="639.9668">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1282" y="658.5879">StudentRepository</text><path d="M1325.5,672.1016 C1325.5,662.1016 1343.5,662.1016 1343.5,662.1016 C1343.5,662.1016 1361.5,662.1016 1361.5,672.1016 L1361.5,698.1016 C1361.5,708.1016 1343.5,708.1016 1343.5,708.1016 C1343.5,708.1016 1325.5,708.1016 1325.5,698.1016 L1325.5,672.1016 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1325.5,672.1016 C1325.5,682.1016 1343.5,682.1016 1343.5,682.1016 C1343.5,682.1016 1361.5,682.1016 1361.5,672.1016 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="1415" y="54.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1422" y="76.7285">Student</text><rect fill="#E2E2F0" height="32.6211" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="1415" y="624.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1422" y="646.9668">Student</text><rect fill="#FFFFFF" height="518.6172" style="stroke:#181818;stroke-width:1.0;" width="10" x="17.5" y="98.2422"/><rect fill="#FFFFFF" height="486.3262" style="stroke:#181818;stroke-width:1.0;" width="10" x="207.5" y="121.5332"/><rect fill="#FFFFFF" height="423.7441" style="stroke:#181818;stroke-width:1.0;" width="10" x="360" y="152.8242"/><rect fill="#FFFFFF" height="79.543" style="stroke:#181818;stroke-width:1.0;" width="10" x="560" y="184.1152"/><rect fill="#FFFFFF" height="250.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="889" y="294.9492"/><rect fill="#FFFFFF" height="62.582" style="stroke:#181818;stroke-width:1.0;" width="10" x="1059" y="326.2402"/><polygon fill="#181818" points="195.5,117.5332,205.5,121.5332,195.5,125.5332,199.5,121.5332" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="27.5" x2="201.5" y1="121.5332" y2="121.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="34.5" y="116.2705">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="45.5" y="116.2705">Requests listing of grades</text><polygon fill="#181818" points="348,148.8242,358,152.8242,348,156.8242,352,152.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="217.5" x2="354" y1="152.8242" y2="152.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="224.5" y="147.5615">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="235.5" y="147.5615">listStudentGrades()</text><polygon fill="#181818" points="548,180.1152,558,184.1152,548,188.1152,552,184.1152" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="554" y1="184.1152" y2="184.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="377" y="178.8525">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="388" y="178.8525">sysuser = getSystemUser()</text><rect fill="none" height="43.252" style="stroke:#000000;stroke-width:1.5;" width="226" x="486.5" y="192.1152"/><path d="M486.5,192.1152 L548.5,192.1152 L548.5,201.1152 L538.5,211.1152 L486.5,211.1152 L486.5,192.1152 " fill="#EEEEEE" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="499.5" y="208.1436">ref</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="218" x="490.5" y="228.0645">Sequence Diagram - SD_Authentication</text><polygon fill="#181818" points="381,259.6582,371,263.6582,381,267.6582,377,263.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="564" y1="263.6582" y2="263.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="387" y="258.3955">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="398" y="258.3955">sysuser</text><polygon fill="#181818" points="877,290.9492,887,294.9492,877,298.9492,881,294.9492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="883" y1="294.9492" y2="294.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="377" y="289.6865">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="388" y="289.6865">listStudentGrades(sysuser.email())</text><polygon fill="#181818" points="1047,322.2402,1057,326.2402,1047,330.2402,1051,326.2402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="899" x2="1053" y1="326.2402" y2="326.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="906" y="320.9775">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="917" y="320.9775">factory = repositories()</text><polygon fill="#181818" points="1195,353.5313,1205,357.5313,1195,361.5313,1199,357.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1069" x2="1201" y1="357.5313" y2="357.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1076" y="352.2686">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1087" y="352.2686">create</text><polygon fill="#181818" points="910,384.8223,900,388.8223,910,392.8223,906,388.8223" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="904" x2="1063" y1="388.8223" y2="388.8223"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="916" y="383.5596">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="927" y="383.5596">factory</text><polygon fill="#181818" points="1331.5,416.1133,1341.5,420.1133,1331.5,424.1133,1335.5,420.1133" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="899" x2="1337.5" y1="420.1133" y2="420.1133"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="906" y="414.8506">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="917" y="414.8506">findStudentByEmail(email)</text><polygon fill="#181818" points="910,447.4043,900,451.4043,910,455.4043,906,451.4043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="904" x2="1342.5" y1="451.4043" y2="451.4043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="916" y="446.1416">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="934" y="446.1416">student</text><polygon fill="#181818" points="1434.5,478.6953,1444.5,482.6953,1434.5,486.6953,1438.5,482.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="899" x2="1440.5" y1="482.6953" y2="482.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="906" y="477.4326">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="924" y="477.4326">getGradeList()</text><polygon fill="#181818" points="910,509.9863,900,513.9863,910,517.9863,906,513.9863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="904" x2="1445.5" y1="513.9863" y2="513.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="916" y="508.7236">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="934" y="508.7236">GradesList</text><polygon fill="#181818" points="381,541.2773,371,545.2773,381,549.2773,377,545.2773" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="375" x2="893" y1="545.2773" y2="545.2773"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="387" y="540.0146">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="405" y="540.0146">GradesList</text><polygon fill="#181818" points="228.5,572.5684,218.5,576.5684,228.5,580.5684,224.5,576.5684" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="222.5" x2="364" y1="576.5684" y2="576.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="234.5" y="571.3057">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="252.5" y="571.3057">GradesList</text><polygon fill="#181818" points="38.5,603.8594,28.5,607.8594,38.5,611.8594,34.5,607.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="32.5" x2="211.5" y1="607.8594" y2="607.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="44.5" y="602.5967">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="62.5" y="602.5967">List of grades</text><!--MD5=[9f90a5078bc1d4d4644485f4fdb393c4]
@startuml
'https://plantuml.com/sequence-diagram

actor "User" as user
participant "studentGradesUI" as ui <<presentation>>
participant "StudentGradeController" as ctrl <<application>>
participant "AuthenticationService" as auth <<service>>
participant "sysuser SystemUser" as sys
participant "GradeManagementService" as gradeService <<service>>
participant "PersistenceContext" as pc <<persistence>>
participant "RepositoryFactory" as repFac <<factory>>
database "StudentRepository" as stdRepo <<repository>>


autonumber

activate user
user -> ui : Requests listing of grades
activate ui
ui -> ctrl : listStudentGrades()
activate ctrl
ctrl -> auth: sysuser = getSystemUser()
activate auth
ref over auth
Sequence Diagram - SD_Authentication
end
auth- -> ctrl: sysuser
deactivate auth
ctrl -> gradeService: listStudentGrades(sysuser.email())
activate gradeService
gradeService->pc: factory = repositories()
activate pc
pc->repFac: create
pc->gradeService: factory
deactivate pc
gradeService -> stdRepo : findStudentByEmail(email)
stdRepo - -> gradeService : student
gradeService -> Student : getGradeList()
Student - -> gradeService : GradesList
gradeService - -> ctrl : GradesList
deactivate gradeService
ctrl - -> ui : GradesList
deactivate ctrl
ui - -> user : List of grades
deactivate ui
@enduml

@startuml

actor "User" as user
participant "studentGradesUI" as ui <<presentation>>
participant "StudentGradeController" as ctrl <<application>>
participant "AuthenticationService" as auth <<service>>
participant "sysuser SystemUser" as sys
participant "GradeManagementService" as gradeService <<service>>
participant "PersistenceContext" as pc <<persistence>>
participant "RepositoryFactory" as repFac <<factory>>
database "StudentRepository" as stdRepo <<repository>>


autonumber

activate user
user -> ui : Requests listing of grades
activate ui
ui -> ctrl : listStudentGrades()
activate ctrl
ctrl -> auth: sysuser = getSystemUser()
activate auth
ref over auth
Sequence Diagram - SD_Authentication
end
auth- -> ctrl: sysuser
deactivate auth
ctrl -> gradeService: listStudentGrades(sysuser.email())
activate gradeService
gradeService->pc: factory = repositories()
activate pc
pc->repFac: create
pc->gradeService: factory
deactivate pc
gradeService -> stdRepo : findStudentByEmail(email)
stdRepo - -> gradeService : student
gradeService -> Student : getGradeList()
Student - -> gradeService : GradesList
gradeService - -> ctrl : GradesList
deactivate gradeService
ctrl - -> ui : GradesList
deactivate ctrl
ui - -> user : List of grades
deactivate ui
@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>